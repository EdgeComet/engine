internal:
  listen: "0.0.0.0:10071"
  auth_key: "test-auth-key-12345"
server:
  listen: ":10070"
  timeout: 120s

redis:
  addr: "localhost:6379"
  password: ""
  db: 0

storage:
  base_path: "/tmp/cache"

render:
  cache:
    ttl: 1h
    expired:
      strategy: "serve_stale"
      stale_ttl: 1h
  dimensions:
    desktop:
      id: 1
      width: 1920
      height: 1080
      render_ua: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
      match_ua:
        - "*Googlebot*"
  events:
    wait_for: "networkIdle"
    additional_wait: 1s

bothit_recache:
  enabled: true
  interval: 30m
  match_ua:
    - $GooglebotSearchDesktop
    - $BingbotDesktop
    - "*CustomRecacheBot*"

bypass:
  timeout: 20s
  user_agent: "TestAgent"

registry:
  selection_strategy: "least_loaded"

log:
  level: "info"
  console:
    enabled: true
    format: "json"
  file:
    enabled: false

metrics:
  enabled: true
  listen: ":9090"
  path: "/metrics"
  namespace: "edgecomet"

hosts:
  include: "hosts.d/"
